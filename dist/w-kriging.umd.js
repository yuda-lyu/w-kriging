/*!
 * w-kriging v1.0.0
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("path"),require("fs"),require("process"),require("child_process")):"function"==typeof define&&define.amd?define(["path","fs","process","child_process"],r):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-kriging"]=r(t.path,t.fs,t.process,t.child_process)}(this,(function(t,r,e,n){"use strict";var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function a(t){if(t.__esModule)return t;var r=t.default;if("function"==typeof r){var e=function t(){if(this instanceof t){var e=[null];return e.push.apply(e,arguments),new(Function.bind.apply(r,e))}return r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var u=Array.isArray,c="object"==typeof o&&o&&o.Object===Object&&o,f=c,s="object"==typeof self&&self&&self.Object===Object&&self,l=f||s||Function("return this")(),p=l.Symbol,v=p,h=Object.prototype,y=h.hasOwnProperty,d=h.toString,b=v?v.toStringTag:void 0;var g=function(t){var r=y.call(t,b),e=t[b];try{t[b]=void 0;var n=!0}catch(t){}var o=d.call(t);return n&&(r?t[b]=e:delete t[b]),o},_=Object.prototype.toString;var j=g,w=function(t){return _.call(t)},m=p?p.toStringTag:void 0;var O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":m&&m in Object(t)?j(t):w(t)};var S=function(t){return null!=t&&"object"==typeof t},x=O,A=S;var z=function(t){return"symbol"==typeof t||A(t)&&"[object Symbol]"==x(t)},P=i(z),B=u,k=z,$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M=/^\w*$/;var I=function(t,r){if(B(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!k(t))||(M.test(t)||!$.test(t)||null!=r&&t in Object(r))};var T=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},C=O,E=T;var N,F=function(t){if(!E(t))return!1;var r=C(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},U=l["__core-js_shared__"],D=(N=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"";var R=function(t){return!!D&&D in t},L=Function.prototype.toString;var q=function(t){if(null!=t){try{return L.call(t)}catch(t){}try{return t+""}catch(t){}}return""},H=F,V=R,W=T,J=q,G=/^\[object .+?Constructor\]$/,K=Function.prototype,Q=Object.prototype,X=K.toString,Y=Q.hasOwnProperty,Z=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var tt=function(t){return!(!W(t)||V(t))&&(H(t)?Z:G).test(J(t))},rt=function(t,r){return null==t?void 0:t[r]};var et=function(t,r){var e=rt(t,r);return tt(e)?e:void 0},nt=et(Object,"create"),ot=nt;var it=function(){this.__data__=ot?ot(null):{},this.size=0};var at=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},ut=nt,ct=Object.prototype.hasOwnProperty;var ft=function(t){var r=this.__data__;if(ut){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return ct.call(r,t)?r[t]:void 0},st=nt,lt=Object.prototype.hasOwnProperty;var pt=nt;var vt=it,ht=at,yt=ft,dt=function(t){var r=this.__data__;return st?void 0!==r[t]:lt.call(r,t)},bt=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=pt&&void 0===r?"__lodash_hash_undefined__":r,this};function gt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}gt.prototype.clear=vt,gt.prototype.delete=ht,gt.prototype.get=yt,gt.prototype.has=dt,gt.prototype.set=bt;var _t=gt;var jt=function(){this.__data__=[],this.size=0};var wt=function(t,r){return t===r||t!=t&&r!=r},mt=wt;var Ot=function(t,r){for(var e=t.length;e--;)if(mt(t[e][0],r))return e;return-1},St=Ot,xt=Array.prototype.splice;var At=Ot;var zt=Ot;var Pt=Ot;var Bt=jt,kt=function(t){var r=this.__data__,e=St(r,t);return!(e<0)&&(e==r.length-1?r.pop():xt.call(r,e,1),--this.size,!0)},$t=function(t){var r=this.__data__,e=At(r,t);return e<0?void 0:r[e][1]},Mt=function(t){return zt(this.__data__,t)>-1},It=function(t,r){var e=this.__data__,n=Pt(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function Tt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Tt.prototype.clear=Bt,Tt.prototype.delete=kt,Tt.prototype.get=$t,Tt.prototype.has=Mt,Tt.prototype.set=It;var Ct=Tt,Et=et(l,"Map"),Nt=_t,Ft=Ct,Ut=Et;var Dt=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var Rt=function(t,r){var e=t.__data__;return Dt(r)?e["string"==typeof r?"string":"hash"]:e.map},Lt=Rt;var qt=Rt;var Ht=Rt;var Vt=Rt;var Wt=function(){this.size=0,this.__data__={hash:new Nt,map:new(Ut||Ft),string:new Nt}},Jt=function(t){var r=Lt(this,t).delete(t);return this.size-=r?1:0,r},Gt=function(t){return qt(this,t).get(t)},Kt=function(t){return Ht(this,t).has(t)},Qt=function(t,r){var e=Vt(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function Xt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Xt.prototype.clear=Wt,Xt.prototype.delete=Jt,Xt.prototype.get=Gt,Xt.prototype.has=Kt,Xt.prototype.set=Qt;var Yt=Xt,Zt=Yt;function tr(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return e.cache=i.set(o,a)||i,a};return e.cache=new(tr.Cache||Zt),e}tr.Cache=Zt;var rr=tr;var er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nr=/\\(\\)?/g,or=function(t){var r=rr(t,(function(t){return 500===e.size&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(er,(function(t,e,n,o){r.push(n?o.replace(nr,"$1"):e||t)})),r}));var ir=function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o},ar=ir,ur=u,cr=z,fr=p?p.prototype:void 0,sr=fr?fr.toString:void 0;var lr=function t(r){if("string"==typeof r)return r;if(ur(r))return ar(r,t)+"";if(cr(r))return sr?sr.call(r):"";var e=r+"";return"0"==e&&1/r==-Infinity?"-0":e},pr=lr;var vr=function(t){return null==t?"":pr(t)},hr=u,yr=I,dr=or,br=vr;var gr=function(t,r){return hr(t)?t:yr(t,r)?[t]:dr(br(t))},_r=z;var jr=function(t){if("string"==typeof t||_r(t))return t;var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},wr=gr,mr=jr;var Or=function(t,r){for(var e=0,n=(r=wr(r,t)).length;null!=t&&e<n;)t=t[mr(r[e++])];return e&&e==n?t:void 0},Sr=Or;var xr=function(t,r,e){var n=null==t?void 0:Sr(t,r);return void 0===n?e:n},Ar=i(xr),zr=/\s/;var Pr=function(t){for(var r=t.length;r--&&zr.test(t.charAt(r)););return r},Br=/^\s+/;var kr=function(t){return t?t.slice(0,Pr(t)+1).replace(Br,""):t},$r=T,Mr=z,Ir=/^[-+]0x[0-9a-f]+$/i,Tr=/^0b[01]+$/i,Cr=/^0o[0-7]+$/i,Er=parseInt;var Nr=function(t){if("number"==typeof t)return t;if(Mr(t))return NaN;if($r(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=$r(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=kr(t);var e=Tr.test(t);return e||Cr.test(t)?Er(t.slice(2),e?2:8):Ir.test(t)?NaN:+t},Fr=Nr,Ur=1/0;var Dr=function(t){return t?(t=Fr(t))===Ur||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},Rr=i(Dr),Lr=Dr;var qr=function(t){var r=Lr(t),e=r%1;return r==r?e?r-e:r:0},Hr=qr;var Vr=i((function(t){return"number"==typeof t&&t==Hr(t)}));function Wr(t){return"[object String]"===Object.prototype.toString.call(t)}function Jr(t){return!(!Wr(t)||""===t)}function Gr(t){return t!=t}function Kr(t){let r=!1;if(Jr(t))r=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(Gr(t))return!1;r=!0}return r}function Qr(t){if(!Kr(t))return 0;return Rr(t)}var Xr=qr,Yr=Nr,Zr=vr,te=l.isFinite,re=Math.min;var ee=i(function(t){var r=Math[t];return function(t,e){if(t=Yr(t),(e=null==e?0:re(Xr(e),292))&&te(t)){var n=(Zr(t)+"e").split("e"),o=r(n[0]+"e"+(+n[1]+e));return+((n=(Zr(o)+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}("round"));function ne(t){if(!Kr(t))return 0;t=Qr(t);let r=ee(t);return"0"===String(r)?0:r}function oe(t){if(!function(t){return!!Kr(t)&&(t=Qr(t),Vr(t))}(t))return!1;return ne(t)>0}let ie="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),ae=ie.length;var ue={exports:{}};var ce,fe={exports:{}},se=a(Object.freeze({__proto__:null,default:{}}));function le(){return ce||(ce=1,function(t,r){var e;t.exports=(e=e||function(t,r){var e;if("undefined"!=typeof window&&window.crypto&&(e=window.crypto),"undefined"!=typeof self&&self.crypto&&(e=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(e=globalThis.crypto),!e&&"undefined"!=typeof window&&window.msCrypto&&(e=window.msCrypto),!e&&void 0!==o&&o.crypto&&(e=o.crypto),!e)try{e=se}catch(t){}var n=function(){if(e){if("function"==typeof e.getRandomValues)try{return e.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof e.randomBytes)try{return e.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(r){var e;return t.prototype=r,e=new t,t.prototype=null,e}}(),a={},u=a.lib={},c=u.Base={extend:function(t){var r=i(this);return t&&r.mixIn(t),r.hasOwnProperty("init")&&this.init!==r.init||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},f=u.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=r?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var r=this.words,e=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=e[i>>>2]>>>24-i%4*8&255;r[n+i>>>2]|=a<<24-(n+i)%4*8}else for(var u=0;u<o;u+=4)r[n+u>>>2]=e[u>>>2];return this.sigBytes+=o,this},clamp:function(){var r=this.words,e=this.sigBytes;r[e>>>2]&=4294967295<<32-e%4*8,r.length=t.ceil(e/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var r=[],e=0;e<t;e+=4)r.push(n());return new f.init(r,t)}}),s=a.enc={},l=s.Hex={stringify:function(t){for(var r=t.words,e=t.sigBytes,n=[],o=0;o<e;o++){var i=r[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var r=t.length,e=[],n=0;n<r;n+=2)e[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new f.init(e,r/2)}},p=s.Latin1={stringify:function(t){for(var r=t.words,e=t.sigBytes,n=[],o=0;o<e;o++){var i=r[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var r=t.length,e=[],n=0;n<r;n++)e[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new f.init(e,r)}},v=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},h=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=v.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(r){var e,n=this._data,o=n.words,i=n.sigBytes,a=this.blockSize,u=i/(4*a),c=(u=r?t.ceil(u):t.max((0|u)-this._minBufferSize,0))*a,s=t.min(4*c,i);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(o,l);e=o.splice(0,c),n.sigBytes-=s}return new f.init(e,s)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});u.Hasher=h.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(r,e){return new t.init(e).finalize(r)}},_createHmacHelper:function(t){return function(r,e){return new y.HMAC.init(t,e).finalize(r)}}});var y=a.algo={};return a}(Math),e)}(fe)),fe.exports}!function(t,r){t.exports=le().enc.Utf8}(ue);var pe=i(ue.exports),ve={exports:{}};!function(t,r){var e;t.exports=(e=le(),function(){var t=e,r=t.lib.WordArray;function n(t,e,n){for(var o=[],i=0,a=0;a<e;a++)if(a%4){var u=n[t.charCodeAt(a-1)]<<a%4*2|n[t.charCodeAt(a)]>>>6-a%4*2;o[i>>>2]|=u<<24-i%4*8,i++}return r.create(o,i)}t.enc.Base64={stringify:function(t){var r=t.words,e=t.sigBytes,n=this._map;t.clamp();for(var o=[],i=0;i<e;i+=3)for(var a=(r[i>>>2]>>>24-i%4*8&255)<<16|(r[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|r[i+2>>>2]>>>24-(i+2)%4*8&255,u=0;u<4&&i+.75*u<e;u++)o.push(n.charAt(a>>>6*(3-u)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var r=t.length,e=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<e.length;i++)o[e.charCodeAt(i)]=i}var a=e.charAt(64);if(a){var u=t.indexOf(a);-1!==u&&(r=u)}return n(t,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)}(ve);var he=i(ve.exports);var ye=function(t,r){for(var e=-1,n=null==t?0:t.length,o=0,i=[];++e<n;){var a=t[e];r(a,e,t)&&(i[o++]=a)}return i};var de=function(t){return function(r,e,n){for(var o=-1,i=Object(r),a=n(r),u=a.length;u--;){var c=a[t?u:++o];if(!1===e(i[c],c,i))break}return r}}();var be=function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n},ge=O,_e=S;var je=function(t){return _e(t)&&"[object Arguments]"==ge(t)},we=S,me=Object.prototype,Oe=me.hasOwnProperty,Se=me.propertyIsEnumerable,xe=je(function(){return arguments}())?je:function(t){return we(t)&&Oe.call(t,"callee")&&!Se.call(t,"callee")},Ae=xe,ze={exports:{}};var Pe=function(){return!1};!function(t,r){var e=l,n=Pe,o=r&&!r.nodeType&&r,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?e.Buffer:void 0,u=(a?a.isBuffer:void 0)||n;t.exports=u}(ze,ze.exports);var Be=ze.exports,ke=/^(?:0|[1-9]\d*)$/;var $e=function(t,r){var e=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==e||"symbol"!=e&&ke.test(t))&&t>-1&&t%1==0&&t<r};var Me=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ie=O,Te=Me,Ce=S,Ee={};Ee["[object Float32Array]"]=Ee["[object Float64Array]"]=Ee["[object Int8Array]"]=Ee["[object Int16Array]"]=Ee["[object Int32Array]"]=Ee["[object Uint8Array]"]=Ee["[object Uint8ClampedArray]"]=Ee["[object Uint16Array]"]=Ee["[object Uint32Array]"]=!0,Ee["[object Arguments]"]=Ee["[object Array]"]=Ee["[object ArrayBuffer]"]=Ee["[object Boolean]"]=Ee["[object DataView]"]=Ee["[object Date]"]=Ee["[object Error]"]=Ee["[object Function]"]=Ee["[object Map]"]=Ee["[object Number]"]=Ee["[object Object]"]=Ee["[object RegExp]"]=Ee["[object Set]"]=Ee["[object String]"]=Ee["[object WeakMap]"]=!1;var Ne=function(t){return Ce(t)&&Te(t.length)&&!!Ee[Ie(t)]};var Fe=function(t){return function(r){return t(r)}},Ue={exports:{}};!function(t,r){var e=c,n=r&&!r.nodeType&&r,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n&&e.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=a}(Ue,Ue.exports);var De=Ue.exports,Re=Ne,Le=Fe,qe=De&&De.isTypedArray,He=qe?Le(qe):Re,Ve=be,We=Ae,Je=u,Ge=Be,Ke=$e,Qe=He,Xe=Object.prototype.hasOwnProperty;var Ye=function(t,r){var e=Je(t),n=!e&&We(t),o=!e&&!n&&Ge(t),i=!e&&!n&&!o&&Qe(t),a=e||n||o||i,u=a?Ve(t.length,String):[],c=u.length;for(var f in t)!r&&!Xe.call(t,f)||a&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Ke(f,c))||u.push(f);return u},Ze=Object.prototype;var tn=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||Ze)};var rn=function(t,r){return function(e){return t(r(e))}}(Object.keys,Object),en=tn,nn=rn,on=Object.prototype.hasOwnProperty;var an=F,un=Me;var cn=function(t){return null!=t&&un(t.length)&&!an(t)},fn=Ye,sn=function(t){if(!en(t))return nn(t);var r=[];for(var e in Object(t))on.call(t,e)&&"constructor"!=e&&r.push(e);return r},ln=cn;var pn=function(t){return ln(t)?fn(t):sn(t)},vn=de,hn=pn;var yn=cn;var dn=function(t,r){return function(e,n){if(null==e)return e;if(!yn(e))return t(e,n);for(var o=e.length,i=r?o:-1,a=Object(e);(r?i--:++i<o)&&!1!==n(a[i],i,a););return e}}((function(t,r){return t&&vn(t,r,hn)})),bn=dn;var gn=function(t,r){var e=[];return bn(t,(function(t,n,o){r(t,n,o)&&e.push(t)})),e},_n=Ct;var jn=Ct,wn=Et,mn=Yt;var On=Ct,Sn=function(){this.__data__=new _n,this.size=0},xn=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},An=function(t){return this.__data__.get(t)},zn=function(t){return this.__data__.has(t)},Pn=function(t,r){var e=this.__data__;if(e instanceof jn){var n=e.__data__;if(!wn||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new mn(n)}return e.set(t,r),this.size=e.size,this};function Bn(t){var r=this.__data__=new On(t);this.size=r.size}Bn.prototype.clear=Sn,Bn.prototype.delete=xn,Bn.prototype.get=An,Bn.prototype.has=zn,Bn.prototype.set=Pn;var kn=Bn;var $n=Yt,Mn=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},In=function(t){return this.__data__.has(t)};function Tn(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new $n;++r<e;)this.add(t[r])}Tn.prototype.add=Tn.prototype.push=Mn,Tn.prototype.has=In;var Cn=Tn,En=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n;)if(r(t[e],e,t))return!0;return!1},Nn=function(t,r){return t.has(r)};var Fn=function(t,r,e,n,o,i){var a=1&e,u=t.length,c=r.length;if(u!=c&&!(a&&c>u))return!1;var f=i.get(t),s=i.get(r);if(f&&s)return f==r&&s==t;var l=-1,p=!0,v=2&e?new Cn:void 0;for(i.set(t,r),i.set(r,t);++l<u;){var h=t[l],y=r[l];if(n)var d=a?n(y,h,l,r,t,i):n(h,y,l,t,r,i);if(void 0!==d){if(d)continue;p=!1;break}if(v){if(!En(r,(function(t,r){if(!Nn(v,r)&&(h===t||o(h,t,e,n,i)))return v.push(r)}))){p=!1;break}}else if(h!==y&&!o(h,y,e,n,i)){p=!1;break}}return i.delete(t),i.delete(r),p};var Un=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t,n){e[++r]=[n,t]})),e};var Dn=l.Uint8Array,Rn=wt,Ln=Fn,qn=Un,Hn=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t){e[++r]=t})),e},Vn=p?p.prototype:void 0,Wn=Vn?Vn.valueOf:void 0;var Jn=function(t,r,e,n,o,i,a){switch(e){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=r.byteLength||!i(new Dn(t),new Dn(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Rn(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var u=qn;case"[object Set]":var c=1&n;if(u||(u=Hn),t.size!=r.size&&!c)return!1;var f=a.get(t);if(f)return f==r;n|=2,a.set(t,r);var s=Ln(u(t),u(r),n,o,i,a);return a.delete(t),s;case"[object Symbol]":if(Wn)return Wn.call(t)==Wn.call(r)}return!1};var Gn=function(t,r){for(var e=-1,n=r.length,o=t.length;++e<n;)t[o+e]=r[e];return t},Kn=u;var Qn=function(t,r,e){var n=r(t);return Kn(t)?n:Gn(n,e(t))};var Xn=ye,Yn=function(){return[]},Zn=Object.prototype.propertyIsEnumerable,to=Object.getOwnPropertySymbols,ro=Qn,eo=to?function(t){return null==t?[]:(t=Object(t),Xn(to(t),(function(r){return Zn.call(t,r)})))}:Yn,no=pn;var oo=function(t){return ro(t,no,eo)},io=Object.prototype.hasOwnProperty;var ao=function(t,r,e,n,o,i){var a=1&e,u=oo(t),c=u.length;if(c!=oo(r).length&&!a)return!1;for(var f=c;f--;){var s=u[f];if(!(a?s in r:io.call(r,s)))return!1}var l=i.get(t),p=i.get(r);if(l&&p)return l==r&&p==t;var v=!0;i.set(t,r),i.set(r,t);for(var h=a;++f<c;){var y=t[s=u[f]],d=r[s];if(n)var b=a?n(d,y,s,r,t,i):n(y,d,s,t,r,i);if(!(void 0===b?y===d||o(y,d,e,n,i):b)){v=!1;break}h||(h="constructor"==s)}if(v&&!h){var g=t.constructor,_=r.constructor;g==_||!("constructor"in t)||!("constructor"in r)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(v=!1)}return i.delete(t),i.delete(r),v},uo=et(l,"DataView"),co=Et,fo=et(l,"Promise"),so=et(l,"Set"),lo=et(l,"WeakMap"),po=O,vo=q,ho="[object Map]",yo="[object Promise]",bo="[object Set]",go="[object WeakMap]",_o="[object DataView]",jo=vo(uo),wo=vo(co),mo=vo(fo),Oo=vo(so),So=vo(lo),xo=po;(uo&&xo(new uo(new ArrayBuffer(1)))!=_o||co&&xo(new co)!=ho||fo&&xo(fo.resolve())!=yo||so&&xo(new so)!=bo||lo&&xo(new lo)!=go)&&(xo=function(t){var r=po(t),e="[object Object]"==r?t.constructor:void 0,n=e?vo(e):"";if(n)switch(n){case jo:return _o;case wo:return ho;case mo:return yo;case Oo:return bo;case So:return go}return r});var Ao=kn,zo=Fn,Po=Jn,Bo=ao,ko=xo,$o=u,Mo=Be,Io=He,To="[object Arguments]",Co="[object Array]",Eo="[object Object]",No=Object.prototype.hasOwnProperty;var Fo=function(t,r,e,n,o,i){var a=$o(t),u=$o(r),c=a?Co:ko(t),f=u?Co:ko(r),s=(c=c==To?Eo:c)==Eo,l=(f=f==To?Eo:f)==Eo,p=c==f;if(p&&Mo(t)){if(!Mo(r))return!1;a=!0,s=!1}if(p&&!s)return i||(i=new Ao),a||Io(t)?zo(t,r,e,n,o,i):Po(t,r,c,e,n,o,i);if(!(1&e)){var v=s&&No.call(t,"__wrapped__"),h=l&&No.call(r,"__wrapped__");if(v||h){var y=v?t.value():t,d=h?r.value():r;return i||(i=new Ao),o(y,d,e,n,i)}}return!!p&&(i||(i=new Ao),Bo(t,r,e,n,o,i))},Uo=S;var Do=function t(r,e,n,o,i){return r===e||(null==r||null==e||!Uo(r)&&!Uo(e)?r!=r&&e!=e:Fo(r,e,n,o,t,i))},Ro=kn,Lo=Do;var qo=T;var Ho=function(t){return t==t&&!qo(t)},Vo=Ho,Wo=pn;var Jo=function(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}},Go=function(t,r,e,n){var o=e.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=e[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=e[o])[0],f=t[c],s=u[1];if(a&&u[2]){if(void 0===f&&!(c in t))return!1}else{var l=new Ro;if(n)var p=n(f,s,c,t,r,l);if(!(void 0===p?Lo(s,f,3,n,l):p))return!1}}return!0},Ko=function(t){for(var r=Wo(t),e=r.length;e--;){var n=r[e],o=t[n];r[e]=[n,o,Vo(o)]}return r},Qo=Jo;var Xo=gr,Yo=Ae,Zo=u,ti=$e,ri=Me,ei=jr;var ni=function(t,r,e){for(var n=-1,o=(r=Xo(r,t)).length,i=!1;++n<o;){var a=ei(r[n]);if(!(i=null!=t&&e(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&ri(o)&&ti(a,o)&&(Zo(t)||Yo(t))},oi=function(t,r){return null!=t&&r in Object(t)},ii=ni;var ai=function(t,r){return null!=t&&ii(t,r,oi)},ui=Do,ci=xr,fi=ai,si=I,li=Ho,pi=Jo,vi=jr;var hi=function(t,r){return si(t)&&li(r)?pi(vi(t),r):function(e){var n=ci(e,t);return void 0===n&&n===r?fi(e,t):ui(r,n,3)}};var yi=Or;var di=function(t){return function(r){return yi(r,t)}},bi=function(t){return function(r){return null==r?void 0:r[t]}},gi=di,_i=I,ji=jr;var wi=function(t){return _i(t)?bi(ji(t)):gi(t)},mi=function(t){var r=Ko(t);return 1==r.length&&r[0][2]?Qo(r[0][0],r[0][1]):function(e){return e===t||Go(e,t,r)}},Oi=hi,Si=function(t){return t},xi=u,Ai=wi;var zi=function(t){return"function"==typeof t?t:null==t?Si:"object"==typeof t?xi(t)?Oi(t[0],t[1]):mi(t):Ai(t)},Pi=ye,Bi=gn,ki=zi,$i=u;var Mi=i((function(t,r){return($i(t)?Pi:Bi)(t,ki(r))})),Ii=dn,Ti=cn;var Ci=ir,Ei=zi,Ni=function(t,r){var e=-1,n=Ti(t)?Array(t.length):[];return Ii(t,(function(t,o,i){n[++e]=r(t,o,i)})),n},Fi=u;var Ui=i((function(t,r){return(Fi(t)?Ci:Ni)(t,Ei(r))})),Di=Array.prototype.join;var Ri=i((function(t,r){return null==t?"":Di.call(t,r)}));function Li(t){return"[object Array]"===Object.prototype.toString.call(t)}function qi(t){return!!r.existsSync(t)&&(!r.lstatSync(t).isDirectory()&&!r.lstatSync(t).isSymbolicLink())}function Hi(t){if(function(t){return"[object Object]"===Object.prototype.toString.call(t)}(t)){for(let r in t)return!1;return!0}return!1}function Vi(t){return!!function(t){return"[object Undefined]"===Object.prototype.toString.call(t)}(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!Hi(t)||(!!function(t){return!(!Wr(t)||""!==t)}(t)||(!!function(t){return!!Li(t)&&0===t.length}(t)||!!Gr(t)))))}function Wi(t){return!!Li(t)&&(0!==t.length&&(1!==t.length||!Vi(t[0])))}let Ji=t.resolve();return async function(t,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;if("win32"!==e.platform)return Promise.reject("operating system is not windows");if(!Wi(t))return Promise.reject("invalid arrSrc");if(!Wi(o))return Promise.reject("invalid arrPred");let u=Ar(i,"variogram_model","");Jr(u)||(u="gaussian");let c=Ar(i,"nlags","");Kr(c)||(c=9),c=ne(c);let f=function(){let t="kriging.exe",r=`${Ji}/src/`,e=`${Ji}/node_modules/w-kriging/src/`;return qi(`${r}${t}`)?r:qi(`${e}${t}`)?e:{error:"can not find executable file for kriging"}}();if(Ar(f,"error"))return Promise.reject(f.error);let s=`${f}kriging.exe`,l=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,r=[];t=oe(t)?ne(t):32;for(let e=0;e<t;e++)r[e]=ie[0|Math.random()*ae];return r.join("")}(),p=`${f}_${l}_fpIn.json`,v=`${f}_${l}_fpOut.json`,h={src:t,pred:o};r.writeFileSync(p,JSON.stringify(h),"utf8");let y={fpIn:p,fpOut:v,opt:{variogram_model:u,nlags:c}},d=function(t){if(!Jr(t))return"";let r=pe.parse(t);return he.stringify(r)}(JSON.stringify(y));await function(t,r){return new Promise((function(e,o){Li(r)||(r=[r]);let i=n.spawnSync(t,r),a=Mi(i.output,(t=>null!==t));a=Ui(a,(t=>function(t){try{return t.toString("utf8")}catch(t){}return""}(t)));let u=Ri(a,""),c=Ar(i,"error.message");c?o(c):e(u)}))}(s,d).catch((t=>{console.log("WKriging execScript catch",t),a=t}));let b=function(t){if(!Jr(t))return{};let r={};try{r=JSON.parse(t)}catch(t){r={}}return r}(r.readFileSync(v,"utf8"));try{r.unlinkSync(p)}catch(t){}try{r.unlinkSync(v)}catch(t){}return null!==a?Promise.reject(a):(Li(b)||(a=function(t){if(!Jr(t)&&!Kr(t)&&!P(t))return"";let r="";try{r=String(t)}catch(t){}try{r=t.toString()}catch(t){}return r}(b)),null!==a?Promise.reject(a):b)}}));
//# sourceMappingURL=w-kriging.umd.js.map
