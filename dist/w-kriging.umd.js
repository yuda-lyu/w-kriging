/*!
 * w-kriging v1.0.2
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("path"),require("fs"),require("process"),require("child_process")):"function"==typeof define&&define.amd?define(["path","fs","process","child_process"],r):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-kriging"]=r(t.path,t.fs,t.process,t.child_process)}(this,(function(t,r,e,n){"use strict";var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u(t){if(t.__esModule)return t;var r=t.default;if("function"==typeof r){var e=function t(){if(this instanceof t){var e=[null];return e.push.apply(e,arguments),new(Function.bind.apply(r,e))}return r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var a=Array.isArray,c="object"==typeof o&&o&&o.Object===Object&&o,f=c,s="object"==typeof self&&self&&self.Object===Object&&self,l=f||s||Function("return this")(),p=l.Symbol,v=p,h=Object.prototype,y=h.hasOwnProperty,d=h.toString,b=v?v.toStringTag:void 0;var g=function(t){var r=y.call(t,b),e=t[b];try{t[b]=void 0;var n=!0}catch(t){}var o=d.call(t);return n&&(r?t[b]=e:delete t[b]),o},_=Object.prototype.toString;var j=g,w=function(t){return _.call(t)},m=p?p.toStringTag:void 0;var O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":m&&m in Object(t)?j(t):w(t)};var S=function(t){return null!=t&&"object"==typeof t},x=O,A=S;var z=function(t){return"symbol"==typeof t||A(t)&&"[object Symbol]"==x(t)},B=i(z),P=a,k=z,$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M=/^\w*$/;var T=function(t,r){if(P(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!k(t))||(M.test(t)||!$.test(t)||null!=r&&t in Object(r))};var I=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)},C=O,E=I;var N,F=function(t){if(!E(t))return!1;var r=C(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},U=l["__core-js_shared__"],D=(N=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"";var R=function(t){return!!D&&D in t},L=Function.prototype.toString;var V=function(t){if(null!=t){try{return L.call(t)}catch(t){}try{return t+""}catch(t){}}return""},q=F,H=R,W=I,J=V,G=/^\[object .+?Constructor\]$/,K=Function.prototype,X=Object.prototype,Y=K.toString,Z=X.hasOwnProperty,Q=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var tt=function(t){return!(!W(t)||H(t))&&(q(t)?Q:G).test(J(t))},rt=function(t,r){return null==t?void 0:t[r]};var et=function(t,r){var e=rt(t,r);return tt(e)?e:void 0},nt=et(Object,"create"),ot=nt;var it=function(){this.__data__=ot?ot(null):{},this.size=0};var ut=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},at=nt,ct=Object.prototype.hasOwnProperty;var ft=function(t){var r=this.__data__;if(at){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return ct.call(r,t)?r[t]:void 0},st=nt,lt=Object.prototype.hasOwnProperty;var pt=nt;var vt=it,ht=ut,yt=ft,dt=function(t){var r=this.__data__;return st?void 0!==r[t]:lt.call(r,t)},bt=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=pt&&void 0===r?"__lodash_hash_undefined__":r,this};function gt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}gt.prototype.clear=vt,gt.prototype.delete=ht,gt.prototype.get=yt,gt.prototype.has=dt,gt.prototype.set=bt;var _t=gt;var jt=function(){this.__data__=[],this.size=0};var wt=function(t,r){return t===r||t!=t&&r!=r},mt=wt;var Ot=function(t,r){for(var e=t.length;e--;)if(mt(t[e][0],r))return e;return-1},St=Ot,xt=Array.prototype.splice;var At=Ot;var zt=Ot;var Bt=Ot;var Pt=jt,kt=function(t){var r=this.__data__,e=St(r,t);return!(e<0)&&(e==r.length-1?r.pop():xt.call(r,e,1),--this.size,!0)},$t=function(t){var r=this.__data__,e=At(r,t);return e<0?void 0:r[e][1]},Mt=function(t){return zt(this.__data__,t)>-1},Tt=function(t,r){var e=this.__data__,n=Bt(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function It(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}It.prototype.clear=Pt,It.prototype.delete=kt,It.prototype.get=$t,It.prototype.has=Mt,It.prototype.set=Tt;var Ct=It,Et=et(l,"Map"),Nt=_t,Ft=Ct,Ut=Et;var Dt=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var Rt=function(t,r){var e=t.__data__;return Dt(r)?e["string"==typeof r?"string":"hash"]:e.map},Lt=Rt;var Vt=Rt;var qt=Rt;var Ht=Rt;var Wt=function(){this.size=0,this.__data__={hash:new Nt,map:new(Ut||Ft),string:new Nt}},Jt=function(t){var r=Lt(this,t).delete(t);return this.size-=r?1:0,r},Gt=function(t){return Vt(this,t).get(t)},Kt=function(t){return qt(this,t).has(t)},Xt=function(t,r){var e=Ht(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function Yt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Yt.prototype.clear=Wt,Yt.prototype.delete=Jt,Yt.prototype.get=Gt,Yt.prototype.has=Kt,Yt.prototype.set=Xt;var Zt=Yt,Qt=Zt;function tr(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return e.cache=i.set(o,u)||i,u};return e.cache=new(tr.Cache||Qt),e}tr.Cache=Qt;var rr=tr;var er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nr=/\\(\\)?/g,or=function(t){var r=rr(t,(function(t){return 500===e.size&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(er,(function(t,e,n,o){r.push(n?o.replace(nr,"$1"):e||t)})),r}));var ir=function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o},ur=ir,ar=a,cr=z,fr=p?p.prototype:void 0,sr=fr?fr.toString:void 0;var lr=function t(r){if("string"==typeof r)return r;if(ar(r))return ur(r,t)+"";if(cr(r))return sr?sr.call(r):"";var e=r+"";return"0"==e&&1/r==-Infinity?"-0":e},pr=lr;var vr=function(t){return null==t?"":pr(t)},hr=a,yr=T,dr=or,br=vr;var gr=function(t,r){return hr(t)?t:yr(t,r)?[t]:dr(br(t))},_r=z;var jr=function(t){if("string"==typeof t||_r(t))return t;var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},wr=gr,mr=jr;var Or=function(t,r){for(var e=0,n=(r=wr(r,t)).length;null!=t&&e<n;)t=t[mr(r[e++])];return e&&e==n?t:void 0},Sr=Or;var xr=function(t,r,e){var n=null==t?void 0:Sr(t,r);return void 0===n?e:n},Ar=i(xr);var zr=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==r(t[e],e,t););return t};var Br=function(t){return function(r,e,n){for(var o=-1,i=Object(r),u=n(r),a=u.length;a--;){var c=u[t?a:++o];if(!1===e(i[c],c,i))break}return r}}();var Pr=function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n},kr=O,$r=S;var Mr=function(t){return $r(t)&&"[object Arguments]"==kr(t)},Tr=S,Ir=Object.prototype,Cr=Ir.hasOwnProperty,Er=Ir.propertyIsEnumerable,Nr=Mr(function(){return arguments}())?Mr:function(t){return Tr(t)&&Cr.call(t,"callee")&&!Er.call(t,"callee")},Fr=Nr,Ur={exports:{}};var Dr=function(){return!1};!function(t,r){var e=l,n=Dr,o=r&&!r.nodeType&&r,i=o&&t&&!t.nodeType&&t,u=i&&i.exports===o?e.Buffer:void 0,a=(u?u.isBuffer:void 0)||n;t.exports=a}(Ur,Ur.exports);var Rr=Ur.exports,Lr=/^(?:0|[1-9]\d*)$/;var Vr=function(t,r){var e=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==e||"symbol"!=e&&Lr.test(t))&&t>-1&&t%1==0&&t<r};var qr=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Hr=O,Wr=qr,Jr=S,Gr={};Gr["[object Float32Array]"]=Gr["[object Float64Array]"]=Gr["[object Int8Array]"]=Gr["[object Int16Array]"]=Gr["[object Int32Array]"]=Gr["[object Uint8Array]"]=Gr["[object Uint8ClampedArray]"]=Gr["[object Uint16Array]"]=Gr["[object Uint32Array]"]=!0,Gr["[object Arguments]"]=Gr["[object Array]"]=Gr["[object ArrayBuffer]"]=Gr["[object Boolean]"]=Gr["[object DataView]"]=Gr["[object Date]"]=Gr["[object Error]"]=Gr["[object Function]"]=Gr["[object Map]"]=Gr["[object Number]"]=Gr["[object Object]"]=Gr["[object RegExp]"]=Gr["[object Set]"]=Gr["[object String]"]=Gr["[object WeakMap]"]=!1;var Kr=function(t){return Jr(t)&&Wr(t.length)&&!!Gr[Hr(t)]};var Xr=function(t){return function(r){return t(r)}},Yr={exports:{}};!function(t,r){var e=c,n=r&&!r.nodeType&&r,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n&&e.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=u}(Yr,Yr.exports);var Zr=Yr.exports,Qr=Kr,te=Xr,re=Zr&&Zr.isTypedArray,ee=re?te(re):Qr,ne=Pr,oe=Fr,ie=a,ue=Rr,ae=Vr,ce=ee,fe=Object.prototype.hasOwnProperty;var se=function(t,r){var e=ie(t),n=!e&&oe(t),o=!e&&!n&&ue(t),i=!e&&!n&&!o&&ce(t),u=e||n||o||i,a=u?ne(t.length,String):[],c=a.length;for(var f in t)!r&&!fe.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||ae(f,c))||a.push(f);return a},le=Object.prototype;var pe=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||le)};var ve=function(t,r){return function(e){return t(r(e))}}(Object.keys,Object),he=pe,ye=ve,de=Object.prototype.hasOwnProperty;var be=F,ge=qr;var _e=function(t){return null!=t&&ge(t.length)&&!be(t)},je=se,we=function(t){if(!he(t))return ye(t);var r=[];for(var e in Object(t))de.call(t,e)&&"constructor"!=e&&r.push(e);return r},me=_e;var Oe=function(t){return me(t)?je(t):we(t)},Se=Br,xe=Oe;var Ae=_e;var ze=function(t,r){return function(e,n){if(null==e)return e;if(!Ae(e))return t(e,n);for(var o=e.length,i=r?o:-1,u=Object(e);(r?i--:++i<o)&&!1!==n(u[i],i,u););return e}}((function(t,r){return t&&Se(t,r,xe)}));var Be=function(t){return t},Pe=Be;var ke=zr,$e=ze,Me=function(t){return"function"==typeof t?t:Pe},Te=a;var Ie=i((function(t,r){return(Te(t)?ke:$e)(t,Me(r))})),Ce=/\s/;var Ee=function(t){for(var r=t.length;r--&&Ce.test(t.charAt(r)););return r},Ne=/^\s+/;var Fe=function(t){return t?t.slice(0,Ee(t)+1).replace(Ne,""):t},Ue=I,De=z,Re=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,Ve=/^0o[0-7]+$/i,qe=parseInt;var He=function(t){if("number"==typeof t)return t;if(De(t))return NaN;if(Ue(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=Ue(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=Fe(t);var e=Le.test(t);return e||Ve.test(t)?qe(t.slice(2),e?2:8):Re.test(t)?NaN:+t},We=He,Je=1/0;var Ge=function(t){return t?(t=We(t))===Je||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},Ke=i(Ge),Xe=Ge;var Ye=function(t){var r=Xe(t),e=r%1;return r==r?e?r-e:r:0},Ze=Ye;var Qe=i((function(t){return"number"==typeof t&&t==Ze(t)}));function tn(t){return"[object String]"===Object.prototype.toString.call(t)}function rn(t){return!(!tn(t)||""===t)}function en(t){return t!=t}function nn(t){let r=!1;if(rn(t))r=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(en(t))return!1;r=!0}return r}function on(t){if(!nn(t))return 0;return Ke(t)}var un=Ye,an=He,cn=vr,fn=l.isFinite,sn=Math.min;var ln=i(function(t){var r=Math[t];return function(t,e){if(t=an(t),(e=null==e?0:sn(un(e),292))&&fn(t)){var n=(cn(t)+"e").split("e"),o=r(n[0]+"e"+(+n[1]+e));return+((n=(cn(o)+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}("round"));function pn(t){if(!nn(t))return 0;t=on(t);let r=ln(t);return"0"===String(r)?0:r}function vn(t){if(!function(t){return!!nn(t)&&(t=on(t),Qe(t))}(t))return!1;return pn(t)>0}let hn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),yn=hn.length;var dn={exports:{}};var bn,gn={exports:{}},_n=u(Object.freeze({__proto__:null,default:{}}));function jn(){return bn||(bn=1,function(t,r){var e;t.exports=(e=e||function(t,r){var e;if("undefined"!=typeof window&&window.crypto&&(e=window.crypto),"undefined"!=typeof self&&self.crypto&&(e=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(e=globalThis.crypto),!e&&"undefined"!=typeof window&&window.msCrypto&&(e=window.msCrypto),!e&&void 0!==o&&o.crypto&&(e=o.crypto),!e)try{e=_n}catch(t){}var n=function(){if(e){if("function"==typeof e.getRandomValues)try{return e.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof e.randomBytes)try{return e.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(r){var e;return t.prototype=r,e=new t,t.prototype=null,e}}(),u={},a=u.lib={},c=a.Base={extend:function(t){var r=i(this);return t&&r.mixIn(t),r.hasOwnProperty("init")&&this.init!==r.init||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},f=a.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=r?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var r=this.words,e=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var u=e[i>>>2]>>>24-i%4*8&255;r[n+i>>>2]|=u<<24-(n+i)%4*8}else for(var a=0;a<o;a+=4)r[n+a>>>2]=e[a>>>2];return this.sigBytes+=o,this},clamp:function(){var r=this.words,e=this.sigBytes;r[e>>>2]&=4294967295<<32-e%4*8,r.length=t.ceil(e/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var r=[],e=0;e<t;e+=4)r.push(n());return new f.init(r,t)}}),s=u.enc={},l=s.Hex={stringify:function(t){for(var r=t.words,e=t.sigBytes,n=[],o=0;o<e;o++){var i=r[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var r=t.length,e=[],n=0;n<r;n+=2)e[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new f.init(e,r/2)}},p=s.Latin1={stringify:function(t){for(var r=t.words,e=t.sigBytes,n=[],o=0;o<e;o++){var i=r[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var r=t.length,e=[],n=0;n<r;n++)e[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new f.init(e,r)}},v=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},h=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=v.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(r){var e,n=this._data,o=n.words,i=n.sigBytes,u=this.blockSize,a=i/(4*u),c=(a=r?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*u,s=t.min(4*c,i);if(c){for(var l=0;l<c;l+=u)this._doProcessBlock(o,l);e=o.splice(0,c),n.sigBytes-=s}return new f.init(e,s)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});a.Hasher=h.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(r,e){return new t.init(e).finalize(r)}},_createHmacHelper:function(t){return function(r,e){return new y.HMAC.init(t,e).finalize(r)}}});var y=u.algo={};return u}(Math),e)}(gn)),gn.exports}!function(t,r){t.exports=jn().enc.Utf8}(dn);var wn=i(dn.exports),mn={exports:{}};!function(t,r){var e;t.exports=(e=jn(),function(){var t=e,r=t.lib.WordArray;function n(t,e,n){for(var o=[],i=0,u=0;u<e;u++)if(u%4){var a=n[t.charCodeAt(u-1)]<<u%4*2|n[t.charCodeAt(u)]>>>6-u%4*2;o[i>>>2]|=a<<24-i%4*8,i++}return r.create(o,i)}t.enc.Base64={stringify:function(t){var r=t.words,e=t.sigBytes,n=this._map;t.clamp();for(var o=[],i=0;i<e;i+=3)for(var u=(r[i>>>2]>>>24-i%4*8&255)<<16|(r[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|r[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<e;a++)o.push(n.charAt(u>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var r=t.length,e=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<e.length;i++)o[e.charCodeAt(i)]=i}var u=e.charAt(64);if(u){var a=t.indexOf(u);-1!==a&&(r=a)}return n(t,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)}(mn);var On=i(mn.exports);var Sn=function(t,r){for(var e=-1,n=null==t?0:t.length,o=0,i=[];++e<n;){var u=t[e];r(u,e,t)&&(i[o++]=u)}return i},xn=ze;var An=function(t,r){var e=[];return xn(t,(function(t,n,o){r(t,n,o)&&e.push(t)})),e},zn=Ct;var Bn=Ct,Pn=Et,kn=Zt;var $n=Ct,Mn=function(){this.__data__=new zn,this.size=0},Tn=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},In=function(t){return this.__data__.get(t)},Cn=function(t){return this.__data__.has(t)},En=function(t,r){var e=this.__data__;if(e instanceof Bn){var n=e.__data__;if(!Pn||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new kn(n)}return e.set(t,r),this.size=e.size,this};function Nn(t){var r=this.__data__=new $n(t);this.size=r.size}Nn.prototype.clear=Mn,Nn.prototype.delete=Tn,Nn.prototype.get=In,Nn.prototype.has=Cn,Nn.prototype.set=En;var Fn=Nn;var Un=Zt,Dn=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Rn=function(t){return this.__data__.has(t)};function Ln(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new Un;++r<e;)this.add(t[r])}Ln.prototype.add=Ln.prototype.push=Dn,Ln.prototype.has=Rn;var Vn=Ln,qn=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n;)if(r(t[e],e,t))return!0;return!1},Hn=function(t,r){return t.has(r)};var Wn=function(t,r,e,n,o,i){var u=1&e,a=t.length,c=r.length;if(a!=c&&!(u&&c>a))return!1;var f=i.get(t),s=i.get(r);if(f&&s)return f==r&&s==t;var l=-1,p=!0,v=2&e?new Vn:void 0;for(i.set(t,r),i.set(r,t);++l<a;){var h=t[l],y=r[l];if(n)var d=u?n(y,h,l,r,t,i):n(h,y,l,t,r,i);if(void 0!==d){if(d)continue;p=!1;break}if(v){if(!qn(r,(function(t,r){if(!Hn(v,r)&&(h===t||o(h,t,e,n,i)))return v.push(r)}))){p=!1;break}}else if(h!==y&&!o(h,y,e,n,i)){p=!1;break}}return i.delete(t),i.delete(r),p};var Jn=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t,n){e[++r]=[n,t]})),e};var Gn=l.Uint8Array,Kn=wt,Xn=Wn,Yn=Jn,Zn=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t){e[++r]=t})),e},Qn=p?p.prototype:void 0,to=Qn?Qn.valueOf:void 0;var ro=function(t,r,e,n,o,i,u){switch(e){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=r.byteLength||!i(new Gn(t),new Gn(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Kn(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var a=Yn;case"[object Set]":var c=1&n;if(a||(a=Zn),t.size!=r.size&&!c)return!1;var f=u.get(t);if(f)return f==r;n|=2,u.set(t,r);var s=Xn(a(t),a(r),n,o,i,u);return u.delete(t),s;case"[object Symbol]":if(to)return to.call(t)==to.call(r)}return!1};var eo=function(t,r){for(var e=-1,n=r.length,o=t.length;++e<n;)t[o+e]=r[e];return t},no=a;var oo=function(t,r,e){var n=r(t);return no(t)?n:eo(n,e(t))};var io=Sn,uo=function(){return[]},ao=Object.prototype.propertyIsEnumerable,co=Object.getOwnPropertySymbols,fo=oo,so=co?function(t){return null==t?[]:(t=Object(t),io(co(t),(function(r){return ao.call(t,r)})))}:uo,lo=Oe;var po=function(t){return fo(t,lo,so)},vo=Object.prototype.hasOwnProperty;var ho=function(t,r,e,n,o,i){var u=1&e,a=po(t),c=a.length;if(c!=po(r).length&&!u)return!1;for(var f=c;f--;){var s=a[f];if(!(u?s in r:vo.call(r,s)))return!1}var l=i.get(t),p=i.get(r);if(l&&p)return l==r&&p==t;var v=!0;i.set(t,r),i.set(r,t);for(var h=u;++f<c;){var y=t[s=a[f]],d=r[s];if(n)var b=u?n(d,y,s,r,t,i):n(y,d,s,t,r,i);if(!(void 0===b?y===d||o(y,d,e,n,i):b)){v=!1;break}h||(h="constructor"==s)}if(v&&!h){var g=t.constructor,_=r.constructor;g==_||!("constructor"in t)||!("constructor"in r)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(v=!1)}return i.delete(t),i.delete(r),v},yo=et(l,"DataView"),bo=Et,go=et(l,"Promise"),_o=et(l,"Set"),jo=et(l,"WeakMap"),wo=O,mo=V,Oo="[object Map]",So="[object Promise]",xo="[object Set]",Ao="[object WeakMap]",zo="[object DataView]",Bo=mo(yo),Po=mo(bo),ko=mo(go),$o=mo(_o),Mo=mo(jo),To=wo;(yo&&To(new yo(new ArrayBuffer(1)))!=zo||bo&&To(new bo)!=Oo||go&&To(go.resolve())!=So||_o&&To(new _o)!=xo||jo&&To(new jo)!=Ao)&&(To=function(t){var r=wo(t),e="[object Object]"==r?t.constructor:void 0,n=e?mo(e):"";if(n)switch(n){case Bo:return zo;case Po:return Oo;case ko:return So;case $o:return xo;case Mo:return Ao}return r});var Io=Fn,Co=Wn,Eo=ro,No=ho,Fo=To,Uo=a,Do=Rr,Ro=ee,Lo="[object Arguments]",Vo="[object Array]",qo="[object Object]",Ho=Object.prototype.hasOwnProperty;var Wo=function(t,r,e,n,o,i){var u=Uo(t),a=Uo(r),c=u?Vo:Fo(t),f=a?Vo:Fo(r),s=(c=c==Lo?qo:c)==qo,l=(f=f==Lo?qo:f)==qo,p=c==f;if(p&&Do(t)){if(!Do(r))return!1;u=!0,s=!1}if(p&&!s)return i||(i=new Io),u||Ro(t)?Co(t,r,e,n,o,i):Eo(t,r,c,e,n,o,i);if(!(1&e)){var v=s&&Ho.call(t,"__wrapped__"),h=l&&Ho.call(r,"__wrapped__");if(v||h){var y=v?t.value():t,d=h?r.value():r;return i||(i=new Io),o(y,d,e,n,i)}}return!!p&&(i||(i=new Io),No(t,r,e,n,o,i))},Jo=S;var Go=function t(r,e,n,o,i){return r===e||(null==r||null==e||!Jo(r)&&!Jo(e)?r!=r&&e!=e:Wo(r,e,n,o,t,i))},Ko=Fn,Xo=Go;var Yo=I;var Zo=function(t){return t==t&&!Yo(t)},Qo=Zo,ti=Oe;var ri=function(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}},ei=function(t,r,e,n){var o=e.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=e[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=e[o])[0],f=t[c],s=a[1];if(u&&a[2]){if(void 0===f&&!(c in t))return!1}else{var l=new Ko;if(n)var p=n(f,s,c,t,r,l);if(!(void 0===p?Xo(s,f,3,n,l):p))return!1}}return!0},ni=function(t){for(var r=ti(t),e=r.length;e--;){var n=r[e],o=t[n];r[e]=[n,o,Qo(o)]}return r},oi=ri;var ii=gr,ui=Fr,ai=a,ci=Vr,fi=qr,si=jr;var li=function(t,r,e){for(var n=-1,o=(r=ii(r,t)).length,i=!1;++n<o;){var u=si(r[n]);if(!(i=null!=t&&e(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&fi(o)&&ci(u,o)&&(ai(t)||ui(t))},pi=function(t,r){return null!=t&&r in Object(t)},vi=li;var hi=function(t,r){return null!=t&&vi(t,r,pi)},yi=Go,di=xr,bi=hi,gi=T,_i=Zo,ji=ri,wi=jr;var mi=function(t,r){return gi(t)&&_i(r)?ji(wi(t),r):function(e){var n=di(e,t);return void 0===n&&n===r?bi(e,t):yi(r,n,3)}};var Oi=Or;var Si=function(t){return function(r){return Oi(r,t)}},xi=function(t){return function(r){return null==r?void 0:r[t]}},Ai=Si,zi=T,Bi=jr;var Pi=function(t){return zi(t)?xi(Bi(t)):Ai(t)},ki=function(t){var r=ni(t);return 1==r.length&&r[0][2]?oi(r[0][0],r[0][1]):function(e){return e===t||ei(e,t,r)}},$i=mi,Mi=Be,Ti=a,Ii=Pi;var Ci=function(t){return"function"==typeof t?t:null==t?Mi:"object"==typeof t?Ti(t)?$i(t[0],t[1]):ki(t):Ii(t)},Ei=Sn,Ni=An,Fi=Ci,Ui=a;var Di=i((function(t,r){return(Ui(t)?Ei:Ni)(t,Fi(r))})),Ri=ze,Li=_e;var Vi=ir,qi=Ci,Hi=function(t,r){var e=-1,n=Li(t)?Array(t.length):[];return Ri(t,(function(t,o,i){n[++e]=r(t,o,i)})),n},Wi=a;var Ji=i((function(t,r){return(Wi(t)?Vi:Hi)(t,qi(r))})),Gi=Array.prototype.join;var Ki=i((function(t,r){return null==t?"":Gi.call(t,r)}));function Xi(t){return"[object Array]"===Object.prototype.toString.call(t)}function Yi(t){return!!r.existsSync(t)&&(!r.lstatSync(t).isDirectory()&&!r.lstatSync(t).isSymbolicLink())}function Zi(t){return"[object Object]"===Object.prototype.toString.call(t)}function Qi(t){return!!function(t){return"[object Undefined]"===Object.prototype.toString.call(t)}(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!function(t){if(Zi(t)){for(let r in t)return!1;return!0}return!1}(t)||(!!function(t){return!(!tn(t)||""!==t)}(t)||(!!function(t){return!!Xi(t)&&0===t.length}(t)||!!en(t)))))}function tu(t){return!!Xi(t)&&(0!==t.length&&(1!==t.length||!Qi(t[0])))}function ru(t){if(Zi(t)){for(let r in t)return!0;return!1}return!1}let eu=t.resolve();return async function(t,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=null;if("win32"!==e.platform)return Promise.reject("operating system is not windows");if(!tu(t))return Promise.reject("psSrc is not an array");if(!ru(o)&&!tu(o))return Promise.reject("psTar is not an object or array");ru(o)&&(o=[o]);let a=Ar(i,"keyX");rn(a)||(a="x");let c=Ar(i,"keyY");rn(c)||(c="y");let f=Ar(i,"keyZ");rn(f)||(f="z");let s=Ar(i,"keyV");rn(s)||(s="v");let l=t=>{let r=Ar(t,a,""),e=Ar(t,c,""),n=Ar(t,f,""),o=Ar(t,s,""),i=nn(r),u=nn(e),l=nn(n),p=nn(o);return r=i?on(r):null,e=u?on(e):null,n=l?on(n):null,o=p?on(o):null,{x:r,y:e,z:n,v:o}},p="2d";{let r=Ar(t,0,{}),e=l(r);null!==e.x&&null!==e.y&&null!==e.z&&null!==e.v&&(p="3d")}let v=[];Ie(t,(t=>{let r=l(t);"2d"===p?v.push([r.x,r.y,r.z]):v.push([r.x,r.y,r.z,r.v])}));let h=[];Ie(o,(t=>{let r=l(t);"2d"===p?h.push([r.x,r.y]):h.push([r.x,r.y,r.z])}));let y=Ar(i,"variogram_model","");rn(y)||(y="gaussian");let d=Ar(i,"nlags","");nn(d)||(d=9),d=pn(d);let b=function(){let t="kriging.exe",r=`${eu}/src/`,e=`${eu}/node_modules/w-kriging/src/`;return Yi(`${r}${t}`)?r:Yi(`${e}${t}`)?e:{error:"can not find executable file for kriging"}}();if(Ar(b,"error"))return Promise.reject(b.error);let g=`${b}kriging.exe`,_=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,r=[];t=vn(t)?pn(t):32;for(let e=0;e<t;e++)r[e]=hn[0|Math.random()*yn];return r.join("")}(),j=`${b}_${_}_fpIn.json`,w=`${b}_${_}_fpOut.json`,m={src:v,pred:h};r.writeFileSync(j,JSON.stringify(m),"utf8");let O={fpIn:j,fpOut:w,opt:{variogram_model:y,nlags:d}},S=function(t){if(!rn(t))return"";let r=wn.parse(t);return On.stringify(r)}(JSON.stringify(O));await function(t,r){return new Promise((function(e,o){Xi(r)||(r=[r]);let i=n.spawnSync(t,r),u=Di(i.output,(t=>null!==t));u=Ji(u,(t=>function(t){try{return t.toString("utf8")}catch(t){}return""}(t)));let a=Ki(u,""),c=Ar(i,"error.message");c?o(c):e(a)}))}(g,S).catch((t=>{console.log("WKriging execScript catch",t),u=t}));let x=function(t){if(!rn(t))return{};let r={};try{r=JSON.parse(t)}catch(t){r={}}return r}(r.readFileSync(w,"utf8"));try{r.unlinkSync(j)}catch(t){}try{r.unlinkSync(w)}catch(t){}if(null!==u)return Promise.reject(u);if(Xi(x)||(u=function(t){if(!rn(t)&&!nn(t)&&!B(t))return"";let r="";try{r=String(t)}catch(t){}try{r=t.toString()}catch(t){}return r}(x)),null!==u)return Promise.reject(u);let A=[];return Ie(h,((t,r)=>{let e=Ar(x,r,null);"2d"===p?A.push({[a]:t[0],[c]:t[1],[f]:e}):A.push({[a]:t[0],[c]:t[1],[f]:t[2],[s]:e})})),A}}));
//# sourceMappingURL=w-kriging.umd.js.map
