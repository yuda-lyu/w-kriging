/*!
 * w-kriging v1.0.8
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("path"),require("fs"),require("process"),require("child_process")):"function"==typeof define&&define.amd?define(["path","fs","process","child_process"],r):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-kriging"]=r(t.path,t.fs,t.process,t.child_process)}(this,(function(t,r,e,n){"use strict";var o=Array.isArray,i="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,a=i||u||Function("return this")(),c=a.Symbol,f=Object.prototype,s=f.hasOwnProperty,l=f.toString,p=c?c.toStringTag:void 0;var h=Object.prototype.toString;var y="[object Null]",v="[object Undefined]",d=c?c.toStringTag:void 0;function b(t){return null==t?void 0===t?v:y:d&&d in Object(t)?function(t){var r=s.call(t,p),e=t[p];try{t[p]=void 0;var n=!0}catch(t){}var o=l.call(t);return n&&(r?t[p]=e:delete t[p]),o}(t):function(t){return h.call(t)}(t)}function g(t){return null!=t&&"object"==typeof t}var _="[object Symbol]";function j(t){return"symbol"==typeof t||g(t)&&b(t)==_}var w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;function O(t,r){if(o(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!j(t))||(m.test(t)||!w.test(t)||null!=r&&t in Object(r))}function S(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)}var x="[object AsyncFunction]",A="[object Function]",z="[object GeneratorFunction]",B="[object Proxy]";function P(t){if(!S(t))return!1;var r=b(t);return r==A||r==z||r==x||r==B}var k,$=a["__core-js_shared__"],M=(k=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";var T=Function.prototype.toString;function C(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var E=/^\[object .+?Constructor\]$/,F=Function.prototype,I=Object.prototype,N=F.toString,U=I.hasOwnProperty,D=RegExp("^"+N.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function R(t){return!(!S(t)||(r=t,M&&M in r))&&(P(t)?D:E).test(C(t));var r}function L(t,r){var e=function(t,r){return null==t?void 0:t[r]}(t,r);return R(e)?e:void 0}var V=L(Object,"create");var q=Object.prototype.hasOwnProperty;var H=Object.prototype.hasOwnProperty;function W(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function J(t,r){return t===r||t!=t&&r!=r}function G(t,r){for(var e=t.length;e--;)if(J(t[e][0],r))return e;return-1}W.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},W.prototype.delete=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},W.prototype.get=function(t){var r=this.__data__;if(V){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return q.call(r,t)?r[t]:void 0},W.prototype.has=function(t){var r=this.__data__;return V?void 0!==r[t]:H.call(r,t)},W.prototype.set=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=V&&void 0===r?"__lodash_hash_undefined__":r,this};var K=Array.prototype.splice;function X(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}X.prototype.clear=function(){this.__data__=[],this.size=0},X.prototype.delete=function(t){var r=this.__data__,e=G(r,t);return!(e<0)&&(e==r.length-1?r.pop():K.call(r,e,1),--this.size,!0)},X.prototype.get=function(t){var r=this.__data__,e=G(r,t);return e<0?void 0:r[e][1]},X.prototype.has=function(t){return G(this.__data__,t)>-1},X.prototype.set=function(t,r){var e=this.__data__,n=G(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};var Y=L(a,"Map");function Z(t,r){var e,n,o=t.__data__;return("string"==(n=typeof(e=r))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?o["string"==typeof r?"string":"hash"]:o.map}function Q(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Q.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(Y||X),string:new W}},Q.prototype.delete=function(t){var r=Z(this,t).delete(t);return this.size-=r?1:0,r},Q.prototype.get=function(t){return Z(this,t).get(t)},Q.prototype.has=function(t){return Z(this,t).has(t)},Q.prototype.set=function(t,r){var e=Z(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};var tt="Expected a function";function rt(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError(tt);var e=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return e.cache=i.set(o,u)||i,u};return e.cache=new(rt.Cache||Q),e}rt.Cache=Q;var et,nt,ot,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ut=/\\(\\)?/g,at=(et=function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(it,(function(t,e,n,o){r.push(n?o.replace(ut,"$1"):e||t)})),r},nt=rt(et,(function(t){return 500===ot.size&&ot.clear(),t})),ot=nt.cache,nt),ct=at;function ft(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o}var st=1/0,lt=c?c.prototype:void 0,pt=lt?lt.toString:void 0;function ht(t){if("string"==typeof t)return t;if(o(t))return ft(t,ht)+"";if(j(t))return pt?pt.call(t):"";var r=t+"";return"0"==r&&1/t==-st?"-0":r}function yt(t){return null==t?"":ht(t)}function vt(t,r){return o(t)?t:O(t,r)?[t]:ct(yt(t))}var dt=1/0;function bt(t){if("string"==typeof t||j(t))return t;var r=t+"";return"0"==r&&1/t==-dt?"-0":r}function gt(t,r){for(var e=0,n=(r=vt(r,t)).length;null!=t&&e<n;)t=t[bt(r[e++])];return e&&e==n?t:void 0}function _t(t,r,e){var n=null==t?void 0:gt(t,r);return void 0===n?e:n}function jt(t,r){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==r(t[e],e,t););return t}var wt,mt=function(t,r,e){for(var n=-1,o=Object(t),i=e(t),u=i.length;u--;){var a=i[wt?u:++n];if(!1===r(o[a],a,o))break}return t};function Ot(t){return g(t)&&"[object Arguments]"==b(t)}var St=Object.prototype,xt=St.hasOwnProperty,At=St.propertyIsEnumerable,zt=Ot(function(){return arguments}())?Ot:function(t){return g(t)&&xt.call(t,"callee")&&!At.call(t,"callee")},Bt=zt;var Pt="object"==typeof exports&&exports&&!exports.nodeType&&exports,kt=Pt&&"object"==typeof module&&module&&!module.nodeType&&module,$t=kt&&kt.exports===Pt?a.Buffer:void 0,Mt=($t?$t.isBuffer:void 0)||function(){return!1},Tt=9007199254740991,Ct=/^(?:0|[1-9]\d*)$/;function Et(t,r){var e=typeof t;return!!(r=null==r?Tt:r)&&("number"==e||"symbol"!=e&&Ct.test(t))&&t>-1&&t%1==0&&t<r}var Ft=9007199254740991;function It(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ft}var Nt={};Nt["[object Float32Array]"]=Nt["[object Float64Array]"]=Nt["[object Int8Array]"]=Nt["[object Int16Array]"]=Nt["[object Int32Array]"]=Nt["[object Uint8Array]"]=Nt["[object Uint8ClampedArray]"]=Nt["[object Uint16Array]"]=Nt["[object Uint32Array]"]=!0,Nt["[object Arguments]"]=Nt["[object Array]"]=Nt["[object ArrayBuffer]"]=Nt["[object Boolean]"]=Nt["[object DataView]"]=Nt["[object Date]"]=Nt["[object Error]"]=Nt["[object Function]"]=Nt["[object Map]"]=Nt["[object Number]"]=Nt["[object Object]"]=Nt["[object RegExp]"]=Nt["[object Set]"]=Nt["[object String]"]=Nt["[object WeakMap]"]=!1;var Ut="object"==typeof exports&&exports&&!exports.nodeType&&exports,Dt=Ut&&"object"==typeof module&&module&&!module.nodeType&&module,Rt=Dt&&Dt.exports===Ut&&i.process,Lt=function(){try{var t=Dt&&Dt.require&&Dt.require("util").types;return t||Rt&&Rt.binding&&Rt.binding("util")}catch(t){}}(),Vt=Lt&&Lt.isTypedArray,qt=Vt?function(t){return function(r){return t(r)}}(Vt):function(t){return g(t)&&It(t.length)&&!!Nt[b(t)]},Ht=qt,Wt=Object.prototype.hasOwnProperty;function Jt(t,r){var e=o(t),n=!e&&Bt(t),i=!e&&!n&&Mt(t),u=!e&&!n&&!i&&Ht(t),a=e||n||i||u,c=a?function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n}(t.length,String):[],f=c.length;for(var s in t)!r&&!Wt.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||u&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Et(s,f))||c.push(s);return c}var Gt=Object.prototype;var Kt=function(t,r){return function(e){return t(r(e))}}(Object.keys,Object),Xt=Kt,Yt=Object.prototype.hasOwnProperty;function Zt(t){if(e=(r=t)&&r.constructor,r!==("function"==typeof e&&e.prototype||Gt))return Xt(t);var r,e,n=[];for(var o in Object(t))Yt.call(t,o)&&"constructor"!=o&&n.push(o);return n}function Qt(t){return null!=t&&It(t.length)&&!P(t)}function tr(t){return Qt(t)?Jt(t):Zt(t)}var rr=function(t,r){return function(e,n){if(null==e)return e;if(!Qt(e))return t(e,n);for(var o=e.length,i=r?o:-1,u=Object(e);(r?i--:++i<o)&&!1!==n(u[i],i,u););return e}}((function(t,r){return t&&mt(t,r,tr)})),er=rr;function nr(t){return t}function or(t,r){var e;return(o(t)?jt:er)(t,"function"==typeof(e=r)?e:nr)}var ir=/\s/;var ur=/^\s+/;function ar(t){return t?t.slice(0,function(t){for(var r=t.length;r--&&ir.test(t.charAt(r)););return r}(t)+1).replace(ur,""):t}var cr=NaN,fr=/^[-+]0x[0-9a-f]+$/i,sr=/^0b[01]+$/i,lr=/^0o[0-7]+$/i,pr=parseInt;function hr(t){if("number"==typeof t)return t;if(j(t))return cr;if(S(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=S(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=ar(t);var e=sr.test(t);return e||lr.test(t)?pr(t.slice(2),e?2:8):fr.test(t)?cr:+t}var yr=1/0,vr=17976931348623157e292;function dr(t){return t?(t=hr(t))===yr||t===-yr?(t<0?-1:1)*vr:t==t?t:0:0===t?t:0}function br(t){var r=dr(t),e=r%1;return r==r?e?r-e:r:0}function gr(t){return"[object String]"===Object.prototype.toString.call(t)}function _r(t){return!(!gr(t)||""===t)}function jr(t){return t!=t}function wr(t){let r=!1;if(_r(t))r=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(jr(t))return!1;r=!0}return r}function mr(t){if(!wr(t))return 0;return dr(t)}function Or(t){return!!wr(t)&&(t=mr(t),"number"==typeof(r=t)&&r==br(r));var r}var Sr=a.isFinite,xr=Math.min;var Ar=function(t){var r=Math[t];return function(t,e){if(t=hr(t),(e=null==e?0:xr(br(e),292))&&Sr(t)){var n=(yt(t)+"e").split("e");return+((n=(yt(r(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}("round"),zr=Ar;function Br(t){if(!wr(t))return 0;t=mr(t);let r=zr(t);return"0"===String(r)?0:r}let Pr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),kr=Pr.length;function $r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,r=[];var e;t=Or(e=t)&&Br(e)>0?Br(t):32;for(let e=0;e<t;e++)r[e]=Pr[0|Math.random()*kr];return r.join("")}var Mr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Tr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Cr(t){if(t.__esModule)return t;var r=t.default;if("function"==typeof r){var e=function t(){if(this instanceof t){var e=[null];return e.push.apply(e,arguments),new(Function.bind.apply(r,e))}return r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var Er={exports:{}};var Fr,Ir={exports:{}},Nr=Cr(Object.freeze({__proto__:null,default:{}}));function Ur(){return Fr||(Fr=1,function(t,r){var e;t.exports=(e=e||function(t,r){var e;if("undefined"!=typeof window&&window.crypto&&(e=window.crypto),"undefined"!=typeof self&&self.crypto&&(e=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(e=globalThis.crypto),!e&&"undefined"!=typeof window&&window.msCrypto&&(e=window.msCrypto),!e&&void 0!==Mr&&Mr.crypto&&(e=Mr.crypto),!e)try{e=Nr}catch(t){}var n=function(){if(e){if("function"==typeof e.getRandomValues)try{return e.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof e.randomBytes)try{return e.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(r){var e;return t.prototype=r,e=new t,t.prototype=null,e}}(),i={},u=i.lib={},a=u.Base={extend:function(t){var r=o(this);return t&&r.mixIn(t),r.hasOwnProperty("init")&&this.init!==r.init||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=u.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=r?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var r=this.words,e=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var u=e[i>>>2]>>>24-i%4*8&255;r[n+i>>>2]|=u<<24-(n+i)%4*8}else for(var a=0;a<o;a+=4)r[n+a>>>2]=e[a>>>2];return this.sigBytes+=o,this},clamp:function(){var r=this.words,e=this.sigBytes;r[e>>>2]&=4294967295<<32-e%4*8,r.length=t.ceil(e/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var r=[],e=0;e<t;e+=4)r.push(n());return new c.init(r,t)}}),f=i.enc={},s=f.Hex={stringify:function(t){for(var r=t.words,e=t.sigBytes,n=[],o=0;o<e;o++){var i=r[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var r=t.length,e=[],n=0;n<r;n+=2)e[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new c.init(e,r/2)}},l=f.Latin1={stringify:function(t){for(var r=t.words,e=t.sigBytes,n=[],o=0;o<e;o++){var i=r[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var r=t.length,e=[],n=0;n<r;n++)e[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new c.init(e,r)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},h=u.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(r){var e,n=this._data,o=n.words,i=n.sigBytes,u=this.blockSize,a=i/(4*u),f=(a=r?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*u,s=t.min(4*f,i);if(f){for(var l=0;l<f;l+=u)this._doProcessBlock(o,l);e=o.splice(0,f),n.sigBytes-=s}return new c.init(e,s)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});u.Hasher=h.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(r,e){return new t.init(e).finalize(r)}},_createHmacHelper:function(t){return function(r,e){return new y.HMAC.init(t,e).finalize(r)}}});var y=i.algo={};return i}(Math),e)}(Ir)),Ir.exports}!function(t,r){t.exports=Ur().enc.Utf8}(Er);var Dr=Tr(Er.exports),Rr={exports:{}};!function(t,r){var e;t.exports=(e=Ur(),function(){var t=e,r=t.lib.WordArray;function n(t,e,n){for(var o=[],i=0,u=0;u<e;u++)if(u%4){var a=n[t.charCodeAt(u-1)]<<u%4*2|n[t.charCodeAt(u)]>>>6-u%4*2;o[i>>>2]|=a<<24-i%4*8,i++}return r.create(o,i)}t.enc.Base64={stringify:function(t){var r=t.words,e=t.sigBytes,n=this._map;t.clamp();for(var o=[],i=0;i<e;i+=3)for(var u=(r[i>>>2]>>>24-i%4*8&255)<<16|(r[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|r[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<e;a++)o.push(n.charAt(u>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var r=t.length,e=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<e.length;i++)o[e.charCodeAt(i)]=i}var u=e.charAt(64);if(u){var a=t.indexOf(u);-1!==a&&(r=a)}return n(t,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)}(Rr);var Lr=Tr(Rr.exports);function Vr(t,r){for(var e=-1,n=null==t?0:t.length,o=0,i=[];++e<n;){var u=t[e];r(u,e,t)&&(i[o++]=u)}return i}function qr(t,r){var e=[];return er(t,(function(t,n,o){r(t,n,o)&&e.push(t)})),e}function Hr(t){var r=this.__data__=new X(t);this.size=r.size}Hr.prototype.clear=function(){this.__data__=new X,this.size=0},Hr.prototype.delete=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},Hr.prototype.get=function(t){return this.__data__.get(t)},Hr.prototype.has=function(t){return this.__data__.has(t)},Hr.prototype.set=function(t,r){var e=this.__data__;if(e instanceof X){var n=e.__data__;if(!Y||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new Q(n)}return e.set(t,r),this.size=e.size,this};function Wr(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new Q;++r<e;)this.add(t[r])}function Jr(t,r){for(var e=-1,n=null==t?0:t.length;++e<n;)if(r(t[e],e,t))return!0;return!1}function Gr(t,r){return t.has(r)}Wr.prototype.add=Wr.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Wr.prototype.has=function(t){return this.__data__.has(t)};var Kr=1,Xr=2;function Yr(t,r,e,n,o,i){var u=e&Kr,a=t.length,c=r.length;if(a!=c&&!(u&&c>a))return!1;var f=i.get(t),s=i.get(r);if(f&&s)return f==r&&s==t;var l=-1,p=!0,h=e&Xr?new Wr:void 0;for(i.set(t,r),i.set(r,t);++l<a;){var y=t[l],v=r[l];if(n)var d=u?n(v,y,l,r,t,i):n(y,v,l,t,r,i);if(void 0!==d){if(d)continue;p=!1;break}if(h){if(!Jr(r,(function(t,r){if(!Gr(h,r)&&(y===t||o(y,t,e,n,i)))return h.push(r)}))){p=!1;break}}else if(y!==v&&!o(y,v,e,n,i)){p=!1;break}}return i.delete(t),i.delete(r),p}var Zr=a.Uint8Array;function Qr(t){var r=-1,e=Array(t.size);return t.forEach((function(t,n){e[++r]=[n,t]})),e}function te(t){var r=-1,e=Array(t.size);return t.forEach((function(t){e[++r]=t})),e}var re=1,ee=2,ne="[object Boolean]",oe="[object Date]",ie="[object Error]",ue="[object Map]",ae="[object Number]",ce="[object RegExp]",fe="[object Set]",se="[object String]",le="[object Symbol]",pe="[object ArrayBuffer]",he="[object DataView]",ye=c?c.prototype:void 0,ve=ye?ye.valueOf:void 0;var de=Object.prototype.propertyIsEnumerable,be=Object.getOwnPropertySymbols,ge=be?function(t){return null==t?[]:(t=Object(t),Vr(be(t),(function(r){return de.call(t,r)})))}:function(){return[]};function _e(t){return function(t,r,e){var n=r(t);return o(t)?n:function(t,r){for(var e=-1,n=r.length,o=t.length;++e<n;)t[o+e]=r[e];return t}(n,e(t))}(t,tr,ge)}var je=1,we=Object.prototype.hasOwnProperty;var me=L(a,"DataView"),Oe=L(a,"Promise"),Se=L(a,"Set"),xe=L(a,"WeakMap"),Ae="[object Map]",ze="[object Promise]",Be="[object Set]",Pe="[object WeakMap]",ke="[object DataView]",$e=C(me),Me=C(Y),Te=C(Oe),Ce=C(Se),Ee=C(xe),Fe=b;(me&&Fe(new me(new ArrayBuffer(1)))!=ke||Y&&Fe(new Y)!=Ae||Oe&&Fe(Oe.resolve())!=ze||Se&&Fe(new Se)!=Be||xe&&Fe(new xe)!=Pe)&&(Fe=function(t){var r=b(t),e="[object Object]"==r?t.constructor:void 0,n=e?C(e):"";if(n)switch(n){case $e:return ke;case Me:return Ae;case Te:return ze;case Ce:return Be;case Ee:return Pe}return r});var Ie=Fe,Ne=1,Ue="[object Arguments]",De="[object Array]",Re="[object Object]",Le=Object.prototype.hasOwnProperty;function Ve(t,r,e,n,i,u){var a=o(t),c=o(r),f=a?De:Ie(t),s=c?De:Ie(r),l=(f=f==Ue?Re:f)==Re,p=(s=s==Ue?Re:s)==Re,h=f==s;if(h&&Mt(t)){if(!Mt(r))return!1;a=!0,l=!1}if(h&&!l)return u||(u=new Hr),a||Ht(t)?Yr(t,r,e,n,i,u):function(t,r,e,n,o,i,u){switch(e){case he:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case pe:return!(t.byteLength!=r.byteLength||!i(new Zr(t),new Zr(r)));case ne:case oe:case ae:return J(+t,+r);case ie:return t.name==r.name&&t.message==r.message;case ce:case se:return t==r+"";case ue:var a=Qr;case fe:var c=n&re;if(a||(a=te),t.size!=r.size&&!c)return!1;var f=u.get(t);if(f)return f==r;n|=ee,u.set(t,r);var s=Yr(a(t),a(r),n,o,i,u);return u.delete(t),s;case le:if(ve)return ve.call(t)==ve.call(r)}return!1}(t,r,f,e,n,i,u);if(!(e&Ne)){var y=l&&Le.call(t,"__wrapped__"),v=p&&Le.call(r,"__wrapped__");if(y||v){var d=y?t.value():t,b=v?r.value():r;return u||(u=new Hr),i(d,b,e,n,u)}}return!!h&&(u||(u=new Hr),function(t,r,e,n,o,i){var u=e&je,a=_e(t),c=a.length;if(c!=_e(r).length&&!u)return!1;for(var f=c;f--;){var s=a[f];if(!(u?s in r:we.call(r,s)))return!1}var l=i.get(t),p=i.get(r);if(l&&p)return l==r&&p==t;var h=!0;i.set(t,r),i.set(r,t);for(var y=u;++f<c;){var v=t[s=a[f]],d=r[s];if(n)var b=u?n(d,v,s,r,t,i):n(v,d,s,t,r,i);if(!(void 0===b?v===d||o(v,d,e,n,i):b)){h=!1;break}y||(y="constructor"==s)}if(h&&!y){var g=t.constructor,_=r.constructor;g==_||!("constructor"in t)||!("constructor"in r)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(h=!1)}return i.delete(t),i.delete(r),h}(t,r,e,n,i,u))}function qe(t,r,e,n,o){return t===r||(null==t||null==r||!g(t)&&!g(r)?t!=t&&r!=r:Ve(t,r,e,n,qe,o))}var He=1,We=2;function Je(t){return t==t&&!S(t)}function Ge(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}}function Ke(t){var r=function(t){for(var r=tr(t),e=r.length;e--;){var n=r[e],o=t[n];r[e]=[n,o,Je(o)]}return r}(t);return 1==r.length&&r[0][2]?Ge(r[0][0],r[0][1]):function(e){return e===t||function(t,r,e,n){var o=e.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=e[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=e[o])[0],f=t[c],s=a[1];if(u&&a[2]){if(void 0===f&&!(c in t))return!1}else{var l=new Hr;if(n)var p=n(f,s,c,t,r,l);if(!(void 0===p?qe(s,f,He|We,n,l):p))return!1}}return!0}(e,t,r)}}function Xe(t,r){return null!=t&&r in Object(t)}function Ye(t,r){return null!=t&&function(t,r,e){for(var n=-1,i=(r=vt(r,t)).length,u=!1;++n<i;){var a=bt(r[n]);if(!(u=null!=t&&e(t,a)))break;t=t[a]}return u||++n!=i?u:!!(i=null==t?0:t.length)&&It(i)&&Et(a,i)&&(o(t)||Bt(t))}(t,r,Xe)}var Ze=1,Qe=2;function tn(t){return O(t)?(r=bt(t),function(t){return null==t?void 0:t[r]}):function(t){return function(r){return gt(r,t)}}(t);var r}function rn(t){return"function"==typeof t?t:null==t?nr:"object"==typeof t?o(t)?function(t,r){return O(t)&&Je(r)?Ge(bt(t),r):function(e){var n=_t(e,t);return void 0===n&&n===r?Ye(e,t):qe(r,n,Ze|Qe)}}(t[0],t[1]):Ke(t):tn(t)}function en(t,r){var e=-1,n=Qt(t)?Array(t.length):[];return er(t,(function(t,o,i){n[++e]=r(t,o,i)})),n}var nn=Array.prototype.join;function on(t){return"[object Array]"===Object.prototype.toString.call(t)}function un(t,r){return new Promise((function(e,i){on(r)||(r=[r]);let u=n.spawnSync(t,r),a=(c=u.output,f=t=>null!==t,(o(c)?Vr:qr)(c,rn(f)));var c,f;a=function(t,r){return(o(t)?ft:en)(t,rn(r))}(a,(t=>function(t){try{return t.toString("utf8")}catch(t){}return""}(t)));let s=(p="",null==(l=a)?"":nn.call(l,p));var l,p;let h=_t(u,"error.message");h?i(h):e(s)}))}function an(t){return!!r.existsSync(t)&&(!r.lstatSync(t).isDirectory()&&!r.lstatSync(t).isSymbolicLink())}function cn(t){return"[object Object]"===Object.prototype.toString.call(t)}function fn(t){return!!function(t){return"[object Undefined]"===Object.prototype.toString.call(t)}(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!function(t){if(cn(t)){for(let r in t)return!1;return!0}return!1}(t)||(!!function(t){return!(!gr(t)||""!==t)}(t)||(!!function(t){return!!on(t)&&0===t.length}(t)||!!jr(t)))))}function sn(t){return!!on(t)&&(0!==t.length&&(1!==t.length||!fn(t[0])))}function ln(t){if(cn(t)){for(let r in t)return!0;return!1}return!1}let pn=t.resolve();return async function(t,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null;if("win32"!==e.platform)return Promise.reject("operating system is not windows");if(!sn(t))return Promise.reject("psSrc is not an array");if(!ln(n)&&!sn(n))return Promise.reject("psTar is not an object or array");let u=ln(n);u&&(n=[n]);let a=_t(o,"keyX");_r(a)||(a="x");let c=_t(o,"keyY");_r(c)||(c="y");let f=_t(o,"keyZ");_r(f)||(f="z");let s=_t(o,"keyV");_r(s)||(s="v");let l=t=>{let r=_t(t,a,""),e=_t(t,0,""),n=_t(t,c,""),o=_t(t,1,""),i=_t(t,f,""),u=_t(t,2,""),l=_t(t,s,""),p=_t(t,3,""),h=wr(r),y=wr(n),v=wr(i),d=wr(l);return r=h?mr(r):wr(e)?mr(e):null,n=y?mr(n):wr(o)?mr(o):null,i=v?mr(i):wr(u)?mr(u):null,l=d?mr(l):wr(p)?mr(p):null,{x:r,y:n,z:i,v:l}},p="2d";{let r=_t(t,0,{}),e=l(r);null!==e.x&&null!==e.y&&null!==e.z&&null!==e.v&&(p="3d")}let h=[];or(t,(t=>{let r=l(t);"2d"===p?h.push([r.x,r.y,r.z]):h.push([r.x,r.y,r.z,r.v])}));let y=[];or(n,(t=>{let r=l(t);"2d"===p?y.push([r.x,r.y]):y.push([r.x,r.y,r.z])}));let v=_t(o,"variogram_model","");_r(v)||(v="exponential");let d=_t(o,"nlags","");wr(d)||(d=9),d=Br(d);let b=function(){let t="kriging.exe",r=`${pn}/src/`,e=`${pn}/node_modules/w-kriging/src/`;return an(`${r}${t}`)?r:an(`${e}${t}`)?e:{error:"can not find executable file for kriging"}}();if(_t(b,"error"))return Promise.reject(b.error);let g=`${b}kriging.exe`,_=$r(),w=`${b}_${_}_fpIn.json`,m=`${b}_${_}_fpOut.json`,O={src:h,pred:y};r.writeFileSync(w,JSON.stringify(O),"utf8");let S={fpIn:w,fpOut:m,opt:{variogram_model:v,nlags:d}},x=function(t){if(!_r(t))return"";let r=Dr.parse(t);return Lr.stringify(r)}(JSON.stringify(S));await un(g,x).catch((t=>{console.log("WKriging execScript catch",t),i=t}));let A=function(t){if(!_r(t))return{};let r={};try{r=JSON.parse(t)}catch(t){r={}}return r}(r.readFileSync(m,"utf8"));try{r.unlinkSync(w)}catch(t){}try{r.unlinkSync(m)}catch(t){}if(null!==i)return Promise.reject(i);if(on(A)||(i=`output[${function(t){if(!_r(t)&&!wr(t)&&!j(t))return"";let r="";try{r=String(t)}catch(t){}try{r=t.toString()}catch(t){}return r}(A)}] is not an array`),null!==i)return Promise.reject(i);let z=[];return or(y,((t,r)=>{let e=_t(A,r,null);"2d"===p?z.push({[a]:t[0],[c]:t[1],[f]:e}):z.push({[a]:t[0],[c]:t[1],[f]:t[2],[s]:e})})),u&&(z=z[0]),z}}));
//# sourceMappingURL=w-kriging.umd.js.map
